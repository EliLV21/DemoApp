(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{6243:(e,a,o)=>{Promise.resolve().then(o.t.bind(o,2807,23)),Promise.resolve().then(o.t.bind(o,9574,23)),Promise.resolve().then(o.bind(o,2197)),Promise.resolve().then(o.t.bind(o,5453,23))},2197:(e,a,o)=>{"use strict";o.d(a,{BoardProvider:()=>i,I:()=>n});var t=o(5155);let s={Doing:[{id:"1",task:"Task 1",tag:"Task 1",created_at:"2022-01-01",description:"https://via.placeholder.com/150",type_column:"Doing"},{id:"2",task:"Task 2",tag:"Task 2",created_at:"2022-01-01",description:"",type_column:"Doing"}],Done:[],Review:[{id:"7",task:"Task 7",tag:"Task 7",created_at:"2022-01-01",description:"https://via.placeholder.com/150",type_column:"Review"}],Backlog:[{id:"10",task:"Task 10",tag:"Task 10",created_at:"2022-01-01",description:"https://via.placeholder.com/150",type_column:"Backlog"}]};var l=o(7113),d=o(2115);let r={columns:s,ordered:Object.keys(s)},c=(0,d.createContext)(null),i=e=>{let{children:a}=e,[o,s]=(0,d.useReducer)(p,r),[i,n]=(0,d.useState)(!1);(0,d.useEffect)(()=>{u()},[]);let u=async()=>{n(!0);let{data:e}=await l.A.from("demo-app").select("*");if(e){let a=e.reduce((e,a)=>{let{type_column:o,...t}=a;return e[o]||(e[o]=[]),e[o].push(t),e},{}),o=Object.keys(a).reduce((e,o)=>(e[o]=a[o],e),{}),t=Object.keys(o);s({type:"SET_BOARD",payload:{columns:o,ordered:t}})}n(!1)};return i?(0,t.jsx)("div",{children:"Loading..."}):(0,t.jsx)(c.Provider,{value:{boardState:o,dispatch:s},children:a})},n=()=>d.useContext(c),p=(e,a)=>{switch(a.type){case"ADD_TASKS":{let o={...e,columns:{...e.columns,Backlog:[a.payload,...e.columns.Backlog]}};return localStorage.setItem("board",JSON.stringify(o)),o}case"SET_TASKS":{let o=a.payload.tag;Array.isArray(e.columns[o])||(e.columns[o]=[]);let t=e.columns[o].map(e=>e);return{...e,columns:{...e.columns,[o]:t}}}case"REMOVE_TASK":{let o=a.payload.id,t={...e};return Object.keys(t.columns).forEach(e=>{t.columns[e]=t.columns[e].filter(e=>e.id!==o)}),l.A.from("demo-app").delete().eq("id",o),localStorage.setItem("board",JSON.stringify(t)),t}case"MOVE_TASK":{if(a.payload.source.droppableId===a.payload.destination.droppableId){let o=[...e.columns[a.payload.source.droppableId]],[t]=o.splice(a.payload.source.index,1);o.splice(a.payload.destination.index,0,t);let s={...e,columns:{...e.columns,[a.payload.source.droppableId]:o}};return l.A.from("demo-app").update({type_column:a.payload.destination.droppableId}).eq("id",t.id),localStorage.setItem("board",JSON.stringify(s)),s}let o=[...e.columns[a.payload.source.droppableId]],t=[...e.columns[a.payload.destination.droppableId]],[s]=o.splice(a.payload.source.index,1);t.splice(a.payload.destination.index,0,s);let d={...e,columns:{...e.columns,[a.payload.source.droppableId]:o,[a.payload.destination.droppableId]:t}};return localStorage.setItem("board",JSON.stringify(d)),d}case"MOVE_COLUMN":{let o=[...e.ordered],[t]=o.splice(a.payload.source.index,1);o.splice(a.payload.destination.index,0,t);let s={...e,ordered:o};return localStorage.setItem("board",JSON.stringify(s)),s}case"SET_BOARD":return{...e,columns:a.payload.columns,ordered:a.payload.ordered};default:return e}}},7113:(e,a,o)=>{"use strict";o.d(a,{A:()=>t});let t=(0,o(5974).UU)("https://rfdslcnqutnamgrgitxv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJmZHNsY25xdXRuYW1ncmdpdHh2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzMxNTkxNTQsImV4cCI6MjA0ODczNTE1NH0.wc9gOUJ_Zq4kd1QPG0TTgxk-1gYw1DQQWboYcAR8OKY")},5453:()=>{},9574:e=>{e.exports={style:{fontFamily:"'geistMono', 'geistMono Fallback'"},className:"__className_0db435",variable:"__variable_0db435"}},2807:e=>{e.exports={style:{fontFamily:"'geistSans', 'geistSans Fallback'"},className:"__className_d7d2d7",variable:"__variable_d7d2d7"}}},e=>{var a=a=>e(e.s=a);e.O(0,[577,736,441,517,358],()=>a(6243)),_N_E=e.O()}]);